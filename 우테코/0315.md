# 0315

# 클래스

단순히 객체를 생성하는 템플릿이 아니라 객체를 관리하는 능동적인 관리자.

new 키워드의 한계 : 반드시 객체를 만든다.
이런 한계를 극복해내는 정적 팩토리 메서드. 이를 통해 클래스가 객체를 관리하는 관리자가 될 수 있다.

객체를 생성하는 다양한 방법(문자열, 숫자를 받는 등)을 제공하면 클라이언트가 좋게 사용할 수 있다.
그러나 생성하는 부분이 너무 많으면 이게 맞는지 한번 고민해본다.

초기화 로직은 오직 한 생성자에만 존재하도록 하여 이를 주 생성자로 하고,
다른 생성자들은 주 생성자를 호출하는 방식으로 객체를 생성한다. 이들은 부 생성자다.

# 상속

상속은 안보이는 코드에 대해 추측해서 사용해야 한다.
문서 -> 암호화된 문서 관계가 있다면, 암호화된 문서의 길이 구하기는 문서의 길이를 반환해야 하는지 혹은 암호화된 문서의 길이를 반환해야 하는 지 예측하기 힘들다.

원하지 않는 동작을 노출하게 되는 문제가 있다.

상속은 확장하는 것이 아니라 정제하는 것. 기능을 제한할 때 사용된다.

final과 abstract를 반드시 사용~ 상속을 염두하지 않으면 Final 상속을 염두하면 abstract.
이렇게 설계를 코드에 담아라!

# 가변객체 불변객체

불변 클래스는 상태를 변경할 수 없는 클래스이다.

불변객체를 만들고 싶으면 아예 데이터가 바뀌지 않는 객체를 만들 수 있다.
예를 들어 add하고 나서 내부 데이터에 추가하는 방식이 아니라 추가된 데이터를 가지는 새로운 객체를 만드는 방식으로 사용한다.

불변객체를 만들면 도메인 객체를 지킬 수 있기 때문에, dto를 사용하지 않고 뷰에 전달해도 된다.